<!DOCTYPE html>
<html lang="vi">
<head>
    <script src="https://www.youtube.com/iframe_api"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HPPD</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
    * { font-family: 'Quicksand', sans-serif; }

    .floating { animation: floating 3s ease-in-out infinite; }
    .floating-delayed { animation-delay: 1.5s; }

    @keyframes floating {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    .bounce-cute {
      animation: bounceCute 0.6s ease-in-out;
    }

    @keyframes bounceCute {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .flying-heart, .flying-star, .flying-cake {
      position: absolute;
      pointer-events: none;
    }

    .flying-heart { animation: flyHeart 4s ease-in-out infinite; font-size: 2rem; color: #ff69b4; }
    @keyframes flyHeart {
      0% { transform: translateX(-100px) translateY(0px) rotate(0deg); opacity: 0; }
      25% { opacity: 1; transform: translateX(50vw) translateY(-50px) rotate(180deg); }
      50% { transform: translateX(100vw) translateY(-100px) rotate(360deg); }
      75% { transform: translateX(50vw) translateY(-50px) rotate(540deg); }
      100% { transform: translateX(-100px) translateY(0px) rotate(720deg); opacity: 0; }
    }

    .flying-star { animation: flyStar 5s ease-in-out infinite; font-size: 1.5rem; color: #ffd700; }
    @keyframes flyStar {
      0% { transform: translateX(100vw) translateY(100px) rotate(0deg); opacity: 0; }
      25% { opacity: 1; transform: translateX(50vw) translateY(50px) rotate(-90deg); }
      50% { transform: translateX(-100px) translateY(0px) rotate(-180deg); }
      75% { transform: translateX(25vw) translateY(75px) rotate(-270deg); }
      100% { transform: translateX(100vw) translateY(100px) rotate(-360deg); opacity: 0; }
    }

    .flying-cake { animation: flyCake 6s ease-in-out infinite; font-size: 2.5rem; animation-delay: 2s; }
    @keyframes flyCake {
      0% { transform: translateX(50vw) translateY(100vh) rotate(0deg); opacity: 0; }
      25% { opacity: 1; transform: translateX(25vw) translateY(50vh) rotate(90deg); }
      50% { transform: translateX(75vw) translateY(25vh) rotate(180deg); }
      75% { transform: translateX(50vw) translateY(75vh) rotate(270deg); }
      100% { transform: translateX(50vw) translateY(100vh) rotate(360deg); opacity: 0; }
    }

    .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .celebrate { animation: celebrate 1s ease-in-out; }
    @keyframes celebrate {
      0% { transform: scale(0) rotate(0deg); opacity: 0; }
      50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
      100% { transform: scale(1) rotate(360deg); opacity: 1; }
    }
  </style>
</head>
<body class="min-h-screen gradient-bg transition-all duration-300 overflow-hidden">
<!-- YouTube Player ·∫®n -->
<div id="player"></div>

  <!-- Canvas -->
  <canvas id="canvas-vy" class="fixed top-0 left-0 w-full h-full z-[20] hidden"></canvas>

  <!-- Flying Animations -->
  <div class="flying-heart" style="top: 20%; animation-delay: 0s;">üíñ</div>
  <div class="flying-heart" style="top: 60%; animation-delay: 2s;">üíï</div>
  <div class="flying-star" style="top: 40%; animation-delay: 1s;">‚≠ê</div>
  <div class="flying-star" style="top: 70%; animation-delay: 3s;">‚ú®</div>
  <div class="flying-cake">üéÇ</div>

  <!-- Main Content -->
  <div class="min-h-screen flex items-center justify-center p-4">
    <div class="text-center max-w-md w-full">
      <div id="initial-screen" class="space-y-8">
        <div class="floating">
          <div class="mb-6">
            <img src="https://scontent.fsgn15-1.fna.fbcdn.net/v/t39.30808-1/456772155_1918443418677207_4650164993288152621_n.jpg?stp=dst-jpg_s200x200_tt6&_nc_cat=103&ccb=1-7&_nc_sid=e99d92&_nc_ohc=jILgVv6eGywQ7kNvwFDabyM&_nc_oc=Adl3TDB_oYZqnHpGJyWgtmzJvC20QcmjHXxmo7LFfLUcQEq1mO73MbXDjEWyX3LZjOe3-Nyj3Ewif8E-3N9CHKyZ&_nc_zt=24&_nc_ht=scontent.fsgn15-1.fna&_nc_gid=VAogzsLYY26oYSo8vqKuaQ&oh=00_AfXWfP3FEXecvqjLZH3zau0w8c6c64vzs_YhlxUqC0rMnw&oe=689A97E8" alt="Th√∫y Vy" class="w-24 h-24 mx-auto rounded-full shadow-lg object-cover border-4 border-white">
          </div>
          <h1 class="text-5xl font-bold text-white mb-4">üå∏ Xin ch√†o üå∏</h1>
          <h2 class="text-4xl font-bold text-pink-200 mb-8 floating-delayed">Th√∫y Vy</h2>
        </div>
        <div class="space-y-4">
          <button id="hello-btn" class="w-full py-4 px-8 bg-white text-purple-600 rounded-full text-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 bounce-cute">‚ú® Xin ch√†o! ‚ú®</button>
          <button id="no-hello-btn" class="w-full py-4 px-8 bg-pink-500 text-white rounded-full text-xl font-semibold shadow-lg hover:shadow-xl transform transition-all duration-300">üò§ Kh√¥ng ch√†o ƒë∆∞·ª£c kh√¥ng?</button>
        </div>
      </div>
      <div id="birthday-screen" class="hidden space-y-8 pt-72">
  <div class="celebrate">
    <h2 class="text-3xl font-bold text-pink-200 mb-8 floating-delayed">
      Ch√∫c Th√∫y Zy sinh nh·∫≠t vui v·∫ª! üíñ
    </h2>
  </div>
</div>

      </div>
    </div>
  </div>

  <!-- Script -->
  <script>
    function drawTextWithNameAnimated(canvasId, displayText, nameChar) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.classList.remove("hidden");

      const tempCanvas = document.createElement("canvas");
      const tempCtx = tempCanvas.getContext("2d");
      tempCanvas.width = canvas.width;
      tempCanvas.height = canvas.height;

      tempCtx.font = "bold 220px Quicksand";
      tempCtx.fillStyle = "black";
      tempCtx.textAlign = "center";
      tempCtx.textBaseline = "middle";
      tempCtx.fillText(displayText, canvas.width / 2, canvas.height / 2);

      const imageData = tempCtx.getImageData(0, 0, tempCanvas.width, tempCanvas.height);
      const data = imageData.data;

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.font = "12px Quicksand";

      const points = [];
      for (let y = 0; y < tempCanvas.height; y += 12) {
        for (let x = 0; x < tempCanvas.width; x += 12) {
          const index = (y * tempCanvas.width + x) * 4;
          const alpha = data[index + 3];
          if (alpha > 128) points.push({ x, y });
        }
      }

      let i = 0;
      function drawStep() {
        if (i < points.length) {
          const { x, y } = points[i];
          ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 85%)`;
          ctx.fillText(nameChar, x, y);
          i++;
          requestAnimationFrame(drawStep);
        }
      }
      drawStep();
    }

    function createFlyingElement() {
      const elements = ['üéâ','üéä','üåü','üíñ','üéà','üéÅ','ü¶ã','üå∏','üéÄ','üí´'];
      const element = document.createElement('div');
      element.textContent = elements[Math.floor(Math.random() * elements.length)];
      element.className = 'fixed text-3xl pointer-events-none z-10';
      element.style.left = Math.random() * window.innerWidth + 'px';
      element.style.top = window.innerHeight + 'px';
      element.style.animation = `flyUp 3s ease-out forwards`;
      document.body.appendChild(element);
      setTimeout(() => element.remove(), 3000);
    }

    function addExtraAnimations() {
      for (let i = 0; i < 15; i++) {
        setTimeout(() => createFlyingElement(), i * 300);
      }
    }

    const style = document.createElement('style');
    style.textContent = `
      @keyframes flyUp {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(-${window.innerHeight + 200}px) rotate(720deg); opacity: 0; }
      }
    `;
    document.head.appendChild(style);

   const initialScreen = document.getElementById('initial-screen');
const birthdayScreen = document.getElementById('birthday-screen');
const helloBtn = document.getElementById('hello-btn');
const noHelloBtn = document.getElementById('no-hello-btn');

helloBtn.addEventListener('click', () => {
  helloBtn.classList.add('bounce-cute');
  setTimeout(() => {
    initialScreen.classList.add('hidden');
    birthdayScreen.classList.remove('hidden');
    addExtraAnimations();
    drawTextWithNameAnimated("canvas-vy", "Happy Birthday", "Vy");
    birthdayScreen.classList.add('celebrate');
  }, 300);
});

// Bay ƒëi khi ƒë∆∞a chu·ªôt ho·∫∑c click v√†o n√∫t "Kh√¥ng ch√†o ƒë∆∞·ª£c kh√¥ng"
noHelloBtn.addEventListener('mouseenter', moveNoHelloButton);
noHelloBtn.addEventListener('click', moveNoHelloButton);

function moveNoHelloButton() {
  const btn = noHelloBtn;
  const x = Math.random() * (window.innerWidth - btn.offsetWidth);
  const y = Math.random() * (window.innerHeight - btn.offsetHeight);
  btn.style.position = 'fixed';
  btn.style.left = `${x}px`;
  btn.style.top = `${y}px`;
  btn.style.transition = 'all 0.3s ease';
  btn.style.maxWidth = 'fit-content';
  btn.style.padding = '0.75rem 1.25rem';
  btn.style.whiteSpace = 'nowrap';
}
  </script>
  <script>
  let player;

  // G·ªçi t·ª± ƒë·ªông khi API ƒë√£ s·∫µn s√†ng
  function onYouTubeIframeAPIReady() {
   player = new YT.Player('player', {
  height: '0',
  width: '0',
  videoId: 'h53q6iIORhw',
  playerVars: {
    autoplay: 0,
    controls: 0,
    loop: 0, // kh√¥ng d√πng loop g·ªëc
    playlist: 'h53q6iIORhw'
  },
  events: {
    onReady: onPlayerReady
  }
});

  }

  function onPlayerReady(event) {
  const player = event.target;

 document.getElementById('hello-btn').addEventListener('click', () => {
  player.seekTo(88);
  player.setVolume(100);     // C√ÄI √ÇM L∆Ø·ª¢NG MAX
  player.unMute();           // B·∫¨T TI·∫æNG
  player.playVideo();        // PH√ÅT VIDEO

  if (loopCheckInterval) clearInterval(loopCheckInterval);
  loopCheckInterval = setInterval(() => {
    if (player.getCurrentTime() >= 120) {
      player.seekTo(88);
    }
  }, 1000);
});

}

</script>

</body>
</html>
